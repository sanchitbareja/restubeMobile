["/*13baef55cf482ba99e00eda583695172aa092b69",42,261641,264038,18939,286814,91516,".proxy.WebStorage",313446,36,"ternateClassName:\"Ext.data.WebStorageProxy\",requires:\"Ext.Date\",config:{id:undefined,reader:null,writer:null,enablePagingParams",291982,37,"callParent(arguments);this.cache={}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];b=g.getId();this.setRecord(g);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(h,o,p){var e=[],a=this.getIds(),l=this.getModel(),q=l.getIdProperty(),g=h.getParams()||{},n=h.getSorters(),d=h.getFilters(),b=h.getStart(),f=h.getLimit(),c=a.length,j,k,m;if(g[q]!==undefined){k=this.getRecord(g[q]);if(k){e.push(k);h.setSuccessful()}}else{for(j=0;j<c;j++){e.push(this.getRecord(a[j]))}m",317254,33,");if(d&&d.length){m.setFilters(d)}if(n&&n.length){m.setSorters(n)}m.addAll(e);if(this.getEnablePagingParams()&&b!==undefined&&f!==undefined){e=m.items.slice(b,b+f)}else{e=m.items.slice()}h.setSuccessful()}h.setCompleted();h.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:e,total:e.length,loaded:true}));h.setRecords(e);if(typeof o==\"function\"){o.call(p||this,h)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;b.setStarted();for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);",313682,35,"if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(d){if(this.cache[d]===undefined){var m=this.getRecordKey(d),n=this.getStorageObject().getItem(m),g={},f=this.getModel(),k=f.getFields().items,e=k.length,h,l,c,j,a,b;if(!n){return undefined}a=Ext.decode(n);for(h=0;h<e;h++){l=k[h];c=l.getName();if(typeof l.getDecode()==\"function\"){g[c]=l.getDecode()(a[c])}else{if(l.getType().type==\"date\"){b=l.getDateFormat();if(b){g[c]=Ext.Date.parse(a[c],b)}else{g[c]=new Date(a[c])}}else{g[c]=a[c]}}}j=new f(g,d);this.cache[d]=j}return this.cache[d]},setRecord:function(l,d){if(d){l.setId(d)}else{d=l.getId()}var o=this,a=l.getData(),k={},g=o.getModel(),m=g.getFields().items,f=m.length,j=0,p,c,h,q,b;for(;j<f;j++){p=m[j];c=p.getName();if(p.getPersist()===false){continue}if(typeof p.getEncode()==\"function\"){k[c]=p.getEncode()(a[c],l)}else{if(p.getType().type==\"date\"&&Ext.isDate(a[c])){b=p.getDateFormat();if(b){k[c]=Ext.Date.format(a[c],b)}else{k[c]=a[c].getTime()}}else{k[c]=a[c]}}}h=o.getStorageObject();q=o.getRecordKey(d);o.cache[d]=l;h.removeItem(q);try{h.setItem(q,Ext.encode(k))}catch(n",304085,34,"n)}l.commit()},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}return b},setIds:function(a){var c=this.getStorageObject(),d=a.join(\",\"),f=this.getId();c.removeItem(f);if(!Ext.isEmpty(d)){try{c.setItem(f,",304075,44,"b)}}",236255,33,"Parent(arguments);var a=this.getStorageObject();try{a.setItem(this.getId(),a.getItem(this.getId())||\"\"",304076,43,"b)}},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b],false)}d.removeItem(this.getId())},getStorageObject",180127,32,"data.proxy.LocalStorage\",{extend:\"Ext.data.proxy.WebStorage\",alias:\"proxy.localstorage\",alternateClassName:\"Ext.data.LocalStorageProxy\",getStorageObject:function(){return window.localStorage",379133,39,378345,92990,"plugin.PullRefresh",270122,33,"plugin.pullrefresh\",requires:[\"Ext.DateExtras\"],config:{list:null,pullRefreshText:\"Pull down to refresh...\",releaseRefreshText:\"Release to refresh...\",lastUpdatedText:\"Last Updated:\",loadingText:\"Loading...\",snappingAnimationDuration:150,refreshFn:null,pullTpl:['<div class=\"x-list-pullrefresh\">','<div class=\"x-list-pullrefresh-arrow\"></div>','<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\",'<div class=\"x-list-pullrefresh-wrap\">','<h3 class=\"x-list-pullrefresh-message\">{message}</h3>','<div class=\"x-list-pullrefresh-updated\">{lastUpdatedText}&nbsp;{lastUpdated:date(\"m/d/Y h:iA\")}</div>',\"</div>\",\"</div>\"].join(\"\"),translatable:true},isRefreshing:false,currentViewState:\"\"",236256,32,"Parent();this.on({painted:\"onPainted\",scope:this})},init:function(b){var a=this;a.setList(b);a.initScrollable()},initScrollable:function(){var d=this,g=d.getList(),b=g.getStore(),f=d.getPullTpl(),c=d.element,e=g.getScrollable(),a;if(!e){return}a=e.getScroller();d.lastUpdated=new Date();g.container.insert(0,d);if(b){if(b.isAutoLoading()){g.setLoadingText(null)}else{b.on({load:{single:true,fn:function(){g.setLoadingText(null)}}})}}f.overwrite(c,{message:d.getPullRefreshText(),lastUpdatedText:d.getLastUpdatedText(),lastUpdated:d.lastUpdated},true);d.loadingElement=c.getFirstChild();d.messageEl=c.down(\".x-list-pullrefresh-message\");d.updatedEl=c.down(\".x-list-pullrefresh-updated\");d.maxScroller=a.getMaxPosition();a.on({maxpositionchange:d.setMaxScroller,scroll:d.onScrollChange,scope:d})},onScrollableChange:function(){this.initScrollable()},updateList:function(a,c){var b=this;if(a&&a!=c){a.on({order:\"after\",scrollablechange:b.onScrollableChange,scope:b})}else{if(c){c.un({order:\"after\",scrollablechange:b.onScrollableChange,scope:b})}}},fetchLatest:function(){var b=this.getList().getStore(),c=b.getProxy(),a;a",350047,33,"{page:1,start:0,model:b.getModel(),limit:b.getPageSize(),action:\"read\",filters:b.getRemoteFilter()?b.getFilters():[]});c.read(a,this.onLatestFetched,this)},onLatestFetched:function(d){var j=this.getList().getStore(),b=j.getData(),c=d.getRecords(),a=c.length,g=[],h,f,e;for(e=0;e<a;e++){h=c[e];f=b.getByKey(h.getId());if(f){f.set(h.getData())}else{g.push(h)}f=undefined}j.insert(0,g)},onPainted:function(){this.pullHeight=this.loadingElement.getHeight()},setMaxScroller:function(b,a){this.maxScroller=a},onScrollChange:function(b,a,c){if(c<0){this.onBounceTop(c)}if(c>this.maxScroller.y){this.onBounceBottom(c)}},applyPull",395649,80,"BounceTop:function(e){var b=this,d=b.pullHeight,c=b.getList(),a=c",406159,34,"!b.isReleased){if(!d){b.onPainted();d=b.pullHeight}if(!b.isRefreshing&&-e>=d+10){b.isRefreshing=true;b.setViewState(\"release\");a.getContainer().onBefore({dragend:\"onScrollerDragEnd\",single:true,scope:b})}else{if(b.isRefreshing&&-e<d+10){b.isRefreshing=false;b.setViewState(\"pull\")}}}b.getTranslatable().translate(0,-e)},onScrollerDragEnd:function(){var b=this;if(b.isRefreshing){var c=b.getList(),a=c.getScrollable().getScroller();a.minPosition.y=-b.pullHeight;a.on({scrollend:\"loadStore\",single:true,scope:b});b.isReleased=true}},loadStore:function(){var b=this,c=b.getList(),a=c.getScrollable().getScroller();b.setViewState(\"loading\");b.isReleased=false;Ext.defer(function(){a.on({scrollend:function(){if(b.getRefreshFn()){b.getRefreshFn().call(b,b)}else{b.fetchLatest()}b.resetRefreshState()},delay:100,single:true,scope:b});a.minPosition.y=0;a.scrollTo(null,0,true)},500,b)},onBounceBottom:Ext.emptyFn,setViewState:function(d){var b=this,c=Ext.baseCSSPrefix,e=b.messageEl,a=b.loadingElement;if(d===b.currentViewState){return b}b.currentViewState=d;if(e&&a){switch(d){case\"pull\":e.setHtml(b.getPullRefreshText());a.removeCls([c+\"list-pullrefresh-release\",c+\"list-pullrefresh-loading\"]);break;case\"release\":e.setHtml(b.getReleaseRefreshText());a.addCls(c+\"list-pullrefresh-release\");break;case\"loading\":e.setHtml(b.getLoadingText());a.addCls(c+\"list-pullrefresh-loading\");break}}return b},resetRefreshState:function(){var a=this;a.isRefreshing=false;a.lastUpdated=new Date();a.setViewState(\"pull\");a.updatedEl.setHtml(this.getLastUpdatedText()+\"&nbsp;\"+Ext.util.Format.date(a.lastUpdated,\"m/d/Y h:iA\")",471314,18232,"g,d){console.log(g);console.log(d",489579,36,"c=this.base64_encode(g+\":\"+d);console.log(c);var f=this.getMainContainer();var b=this.getLoginContainer();var e",489695,65,497545,74,489836,32,"c,},params:{username__exact:g,},success:function(i",497647,45,"console.log(i);var h=Ext.JSON.decode(i.responseText);console.log(h);if(h.meta[\"total_count\"]==1){var j=Ext.create(\"ResTube.model.Login\",{id:h.objects[0][\"id\"],username:g,password:d,authentication:c,resource_uri:h.objects[0][\"resource_uri\"],});console.log(\"newLogin:\");console.log(j);var k=Ext.getStore(\"Logins\");console.log(k);if(k.findRecord(\"id\",j.data.id)==null){k.add(j);console.log(\"adding newLogin\")}console.log(k.sync());b.setMasked(false",489986,102,"f",493821,34,"},failure:function(h){console.log(h",490157,683,"div id=\"productItem-{id}\" class=\"row\"><div class=\"small-4 columns\" id=\"productItem-{id}\"><tpl for=\"media\"><tpl if=\"id == 1\"><img src=\"{url}\" class=\"thumbnail_photo_list\" id=\"productItem-{[parent.id]}\"></tpl></tpl></p></div><div class=\"small-8 columns\" id=\"productItem-{id}\"><strong id=\"productItem-{id}\">{name}</strong><br /><i id=\"productItem-{id}\"><i>Model No.:</i>{model_no}</i></div></div",495434,47,490934,234,"b",491220,338,"\t",491558,34,491627,1744,"e){console.log(e",493387,43,"d=this.getSearchResults();var b=this.getRestubeSearch();console.log(d);var c",489695,60,493536,105,"e",494314,116,".objects);d.setData(f",493779,41,"d",493821,33,";b.setMasked(false",498348,71,493924,1433,"feed :(",490816,37,495401,36,"masked:{xtype:\"loadmask\",message:\"Loading Feed...\",},plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down to refresh!\",refreshFn:function(a){a.parent.parent.fireEvent(\"loadDataCommand\")},}]",495436,2344,";console.log(\"Getting data from localstorage\");var e=Ext.getStore(\"Logins\");console.log(e.getData());a.setMasked(false",497779,918,"Contacts",495238,51,"contac",490731,33,"Conta",490769,32,"contacts :(</div></pre>\",masked:{xtype:\"loadmask\",message:\"Loading Contacts...\",},plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down to refresh!\",refreshFn:function(a){a.parent.parent.fireEvent(\"loadContactsDataCommand\")},}],itemTpl:'<div id=\"contactItem-{id}\" class=\"row\"><div class=\"small-4 columns\" id=\"contactItem-{id}\"><img src=\"{thumbnail_photo}\" class=\"thumbnail_photo_list\" id=\"contactItem-{id}\"></div><div class=\"small-8 columns\" id=\"contactItem-{id}\"><strong id=\"contactItem-{id}\">{user.first_name} {user.last_name}</strong><br /><i id=\"contactItem-{id}\">{job_title}</i></div></div",495434,47,"Contacts\",}],listeners:[",495651,50,"f,b,h,a,g",495710,39,"console.log(Ext.get(b));var d=Ext.get(b).id.slice(12);this.fireEvent(\"contactInfoCommand\",this,d",495870,45,"contacts data!\");this.fireEvent(\"loadContactsDataCommand\"",499940,38,496093,42,"contact",496139,63," class='row'><div class='small-5 columns'><img src='{thumbnail_photo}' class='thumbnail_photo'></div><div class='small-7 columns'><strong>{user.first_name} {user.last_name}</strong><br /><i>{job_title}</i></div></div><div class='row'><div class='small-12 columns'><a href='tel:{phone_no}'><div id='actionButton'>Call</div></a><a href='mailto:{user.email}'><div id='actionButton'>Email</div></a><a href=\\\"https://plus.google.com/hangouts/_?gid=856453701131\\\"><div id=\\\"actionButton\\\">Video Chat</div></a></p></div",491687,40,"Conta",491732,87,"4",491008,39,"4",496624,33,"4\",}],},onBackButtonTap4",492384,43,"4!\");this.fireEvent(\"backToContacts",491404,39,"controller.Contacts",492714,92,"Contacts:{selector:\"restubecontacts\",xtype:\"restubecontacts\",autoCreate:true,},contactDetail:{selector:\"contactdetail\",xtype:\"contact",497013,43,"Contacts:{contactInfoCommand:\"onContactInfoCommand\",loadContactsDataCommand:\"loadContactsData\",},contactDetail:{backToContactsCommand:\"onBackToContacts",497174,224,"Contacts",497398,37,"contacts...\");var b=this.getRestubeContacts();var a",489695,64,"profile",497544,213,"b);b.setData(c.objects);b.setMasked(false",497779,96,"ContactInfoCommand:function(b,e){console.log(\"onContact",497928,34,"a=this.getContactDetail();var d=",497501,37,"userprofile/\"+e+\"/?format=json\";var c=Ext.Ajax.request({url:d",489775,61,494306,126,"a",498272,43,"a",493821,52,498368,100,"Contacts",498472,40,"ContactsCommand\");this.activateContactsView()},activateContactsView",494910,51,498618,79,"Question",495234,55,"question",495289,35,"Questions...\",emptyText:\"<pre><div>No question :(",490816,37,"questionItem-{id}\">{question}</div><pre>',masked:{xtype:\"loadmask\",message:\"Loading Questions...\",},plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down to refresh!\",refreshFn:function(a){a.parent.parent.fireEvent(\"loadQuestionsDataCommand\")},}]",495436,64,"[",495500,55,"QuestionFeedButton\"},{xtype:\"spacer\",},{xtype:\"button\",ui:\"action\",text:\"New\",id:\"addQuestionButton\",}]",495567,34,"Question",495601,51,"delegate:\"#addQuestionButton\",event:\"tap\",fn:\"onAdd",495638,160,"questionItem]\")[0]).id.slice(13);this.fireEvent(\"question",495851,64,"questions data!\");this.fireEvent(\"loadQuestions",495948,66,"questions data!\");this.fireEvent(\"loadQuestionsDataCommand\")},onAdd",499183,34,"Adding questions data!\");this.fireEvent(\"addQuestionCommand\")},});Ext.define(\"ResTube.view.Question",496093,42,"question",496139,72,"Question: {question}</li><li>Comments: <tpl for='comments'><p></p>{comment}, posted_by: {posted_by.username}</tpl>",496279,46,491684,43,"Ques",491742,77,"4",491008,39,"4",496624,33,"4\",}],},onBackButtonTap4",492384,43,"4!\");this.fireEvent(\"backToQuestion",496751,54,"Question",492714,92,"QuestionFeed:{selector:\"restubequestionfeed\",xtype:\"restubequestionfeed\",autoCreate:true,},questionDetail:{selector:\"questiondetail\",xtype:\"question",497013,43,"QuestionFeed:{questionInfoCommand:\"onQuestionInfoCommand\",loadQuestionsDataCommand:\"loadQuestionsData\",addQuestionCommand:\"onAddQuestionCommand\",},questionDetail:{backToQuestionFeedCommand:\"onBackToQuestion",497170,228,"Questions",497398,37,"questions...\");var a=this.getRestubeQuestion",497466,72,"question",497544,236,";a.setMasked(false",497779,96,"QuestionInfoCommand:function(b,a){console.log(\"onQuestionInfoCommand!\");console.log(a);var e=this.getQuestionDetail();var d=",497501,37,"question/\"+a+\"/?format=json\";var c=Ext.Ajax.request({url:d",489775,61,494306,126,"e",498272,43,"e",493821,52,498368,72,"Question Info\")},})},onAddQuestionCommand:function(a){console.log(\"onAddQuestionCommand!\"",497471,67,"question/\",method:\"POS",493568,50,"headers:{\"Content-Type\":\"application/json\",},jsonData:{posted_by:\"/api/v1/user/1/\",question:\"How do you add a question via POST?\",},success",497789,41,"Spiffing, everything worked! Added a new question!\"",497779,86," when trying to add Question\")},})},onBackToQuestion",498468,71,"QuestionFeedView()},activateQuestion",498559,133,"model.Login\"",364879,34,"idProperty:\"id\",fields:[{name:\"username\",type:\"string\"},{name:\"password\",type:\"string\"},{name:\"authentication\",type:\"string\"},{name:\"resource_uri\",type:\"string\"},{name:\"id\",type:\"string\"},],}});Ext.define(\"ResTube.store.Logins\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.LocalStorage\",config:{model:\"ResTube.model.Login\",autoLoad:true,autoSync:true,proxy:{type:\"localstorage\",id:\"login-store\",}}",498669,127,"masked:{xtype:\"loadmask\",message:\"Logging In...\",}",495436,45,498840,332,495650,34,"Show",394495,35,499176,65,"setMasked(true",499234,244,"masked:{xtype:\"loadmask\",message:\"Searching...\",}",495436,45,"Search",498845,75,499603,198,495650,34,"Show",394495,35,499805,67,"setMasked(true",499865,106,500348,218,"Questions\",iconCls:\"bookmarks\",xtype:\"restubequestionfeed\"",500556,156,"models:[\"Login\"],stores:[\"Logins\"]",500711,88,",\"ContactDetail\",\"QuestionFeed\",\"Question",500792,75,",\"ContactsController\",\"Question",500856,576]