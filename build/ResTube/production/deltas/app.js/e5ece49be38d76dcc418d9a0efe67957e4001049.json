["/*15a8c95530a714c59090d9a3f30027a26e12605e",42,11188,"B=[],e,A=20;if(!B.splice){return false}while(A--){B.push(\"A\")}B",11293,100,"B.length;B.splice(13,0,\"XXX\");if(e+1!=B",11432,84,"z",11517,283,"A,e){return(e<0)?Math.max(0,A.length+e):Math.min(A.length,e)}function w(H,G,A,K){var L=K?K.length:0,C=H.length,I=l(H,G);if(I===C){if(L){H.push.apply(H,K)}}else{var F=Math.min(A,C-I),J=I+F,B=J+L-F,e=C-J,D=C-F,E;if(B<J){for(E=0;E<e;++E){H[B+E]=H[J+E]}}else{if(B>J){for(E=e;E--;){H[B+E]=H[J+E]}}}if(L&&I===D){H.length=D;H.push.apply(H,K)}else{H.length=D+L;for(E=0;E<L;++E){H[I+E]=K[E]}}}return H}function h(C,e,B,A){if(A&&A.length){if(e<C.length){C.splice.apply(C,[e,B].concat(A))}else{C.push.apply(C,A)}}else{C.splice(e,B)}return C}function b(B,e,A){return w(B,e,A)}function q(B,e,A){B.splice(e,A);return B}function k(D,e,B){var C=l(D,e),A=D.slice(e,l(D,C+B));if(arguments.length<4){w(D,C,B)}else{w(D,C,B,n.call(arguments,3))}return A",12532,115,"E,C,B,e){E=a.from(E);var A,D=E.length;if(e!==true){for(A=0;A<D;A++){if(C.call(B||E[A],E[A],A,E)===false){return A}}}else{for(A=D-1;A>-1;A--){if(C.call(B||E[A],E[A],A,E)===false){return A",12833,35,"B,A,e){return B.forEach(A,e)}:function(D,B,A){var e=0,C=D.length;for(;e<C;e++){B.call(A,D[e],e,D)}},indexOf:(o)?function(B,e,A){return B.indexOf(e,A)}:function(D,B,C){var e,A=D.length;for(e=(C<0)?Math.max(0,A+C):C||0;e<A;e++){if(D[e]===B",13105,43,"A,e){return A.indexOf(e)!==-1}:function(C,B){var e,A;for(e=0,A=C.length;e<A;e++){if(C[e]===B",13240,46,"B,D,e){if(!B||!B.length){return[]}if(typeof B===\"string\"){B=B.split(\"\")}if(j){return n.call(B,D||0,e||B.length)}var C=[],A;D=D||0;e=e?((e<0)?B.length+e:e):B.length;for(A=D;A<e;A++){C.push(B[A])}return C},pluck:function(E,e){var A=[],B,D,C;for(B=0,D=E.length;B<D;B++){C=E[B];A.push(C[e])}return A},map:t?function(B,A,e){return B.map(A,e)}:function(E,D,C){var B=[],A=0,e=E.length;for(;A<e;A++){B[A]=D.call(C,E[A],A,E)}return B},every:function(D,B,A){if(z){return D.every(B,A)}var e=0,C=D.length;for(;e<C;++e){if(!B.call(A,D[e],e,D",13814,44,"D,B,A){if(c){return D.some(B,A)}var e=0,C=D.length;for(;e<C;++e){if(B.call(A,D[e],e,D",13943,45,"D){var A=[],e=0,C=D.length,B;for(;e<C;e++){B=D[e];if(!Ext.isEmpty(B)){A.push(B)}}return A},unique:function(D){var C=[],e=0,B=D.length,A;for(;e<B;e++){A=D[e];if(a.indexOf(C,A)===-1){C.push(A)}}return C},filter:function(E,C,B){if(d){return E.filter(C,B)}var A=[],e=0,D=E.length;for(;e<D;e++){if(C.call(B,E[e],e,E)){A.push(E[e])}}return A},from:function(A,e){if(A===undefined||A",14363,33,"A)){return(e)?n.call(A):A}if(A&&A.length!==undefined&&typeof A!==\"string\"){return a.toArray(A)}return[A]},remove:function(B,A){var e=a.indexOf(B,A);if(e!==-1){v(B,e,1)}return B},include:function(A,e){if(!a.contains(A,e)){A",14618,88,"C=[],A,B;for(A=0,B=e.length;A<B;A++){C=C.concat(e[A])}return a.unique(C",14777,33,"D=n.call(arguments),C,E,B,A;if(!D.length){return e}D=D.sort(function(G,F){if(G.length>F.length){return 1}else{if(G.length<F",14933,37,"E=a.unique(D[0]);for(B=0;B<E.length;B++){C=E[B];for(A=1;A<D.length;A++){if(D[A].indexOf(C)===-1){break}if(A==(D.length-1)){e.push(C",15101,34,"A,e){var F=n.call(A),D=F.length,C,B,E;for(C=0,E=e.length;C<E;C++){for(B=0;B<D;B++){if(F[B]===e[C]){v(F,B,1);B--;D--}}}return F},slice:function(B,A,e){return n.call(B,A,e)},sort:function(G,F){if(m){if(F){return G.sort(F)}else{return G.sort()}}var D=G.length,C=0,E,e,B,A;for(;C<D;C++){B=C;for(e=C+1;e<D;e++){if(F){E=F(G[e],G[B]);if(E<0){B=e}}else{if(G[e]<G[B]){B=e}}}if(B!==C){A=G[C];G[C]=G[B];G[B]=A}}return G},flatten:function(B){var A=[];function e(C){var E,F,D;for(E=0,F=C.length;E<F;E++){D=C[E];if(Ext.isArray(D)){e(D)}else{A.push(D)}}return A}return e(B)},min:function(E,D){var A=E[0],e,C,B;for(e=0,C=E.length;e<C;e++){B=E[e];if(D){if(D(A,B)===1){A=B}}else{if(B<A){A=B}}}return A},max:function(E,D){var e=E[0],A,C,B;for(A=0,C=E.length;A<C;A++){B=E[A];if(D){if(D(e,B)===-1){e=B}}else{if(B>e){e=B",15933,90,"D){var A=0,e,C,B;for(e=0,C=D.length;e<C;e++){B=D[e];A+=B}return A},erase:v,insert:function(B,A,e){return s(B,A",16133,24337,"z",40471,93,"z",40565,6922,"z,l){var s=this,A",47504,157,"A[m]){return this}z=z",47682,122,"A",47805,38,"z",47844,46,"z",47891,308,"z",48200,207,"I,u,o,r){var w={},n={},B=this.queue,F=this.classNameToFilePathMap,D=this.isClassFileLoaded,t=[],K=[],H=[],m=[],s,J,A,z,l,q,G,E,C,v,p;if(r){r=i(r);for(E=0,v=r.length;E<v;E++){l=r[E",48586,69,"C=0,p=t.length;C<p;C++){w[t[C]]=true}}}}I=i(I",48700,40,"N=[],M,O,L;for(M=0,O=m.length;M<O;M++){L=m[M];N.push(a.get(L))}return u.apply(this,N",48824,52,"E=0,v=I.length;E<v;E++){z=I[E];if(typeof z==\"string\"&&z.length>0){K=a.getNamesByExpression(z);p=K.length;for(C=0;C<p;C++){G=K[C];if(w[G]!==true){m.push(G);if(!a.isCreated(G)&&!n[G]){n[G]=true;H.push(G)}}}}}if(H",49086,154,"H.length>1)?\"es\":\"\")+\": \"+H",49267,41,"J=this.syncModeEnabled;if(!J){B.push({requires:H",49356,32,"H.length;for(E=0;E<v;E++){q=H[E];A=this.getPath(q);if(J&&D",49446,68,"A);delete D[q]}if(!D.hasOwnProperty(q)){D[q]=false;F[q]=A",49571,44,"A,j(this.onFileLoaded,[q,A",49641,34,"A]),this,J)}}if(J",49692,1303,"A,n,z",51000,32,"A",51033,619,"B in l){if(l.hasOwnProperty(B)){v=l[B];if(typeof v==\"string\"){n[p][B]=a.get(v)}}}}}}}}w.call(u,A,n,z",51752,4422,"z",56175,61,"z=v[u];z.fn.call(z",56254,634,"z",56889,80,"z",56970,64571,"z",121542,67,"A",121610,318,"z);if(g){l.removeAttribute(z",121956,452,"A=w[t];u=f[A];if(a[A]){a[A]=false;Ext.Array.remove(m,A)}if(j[A]!==null){q.push(A",122488,59,"A=q[t];u=f[A",122559,52,"A",122612,55577,"D",178190,56,"A",178247,41,"D.bottom-=5;D.height-=10;D.left+=5;D.right-=5;D.top+=5;D",178344,33,"D.bottom-q.bottom<t){if(q.top-D.top<t){if(q.left-D",178427,144,"B",178572,67,"A/2,g=p/2,h=v/2,s=t/2,z,C",178664,59,"A",178724,80,"A",178805,81,"A",178887,243,"B){z=(D.left+D.width)-v;C=(D.top+D.height)-t;e=Math.max(D.left,Math.min(z,e));r=Math.max(D.top,Math.min(C",179235,83771,"E",263007,70,"E,y:t},D={x:b,y:h},F={x:E,y:h},A",263109,73,"A,v),g=0,C=0,e,B,r,p,z",263204,49,"B",263254,49,"z=Math.min(Math.max(s,b+B),E-(B));u=t;C",263342,43,"D))){z=b;u=Math.min(Math.max(q+(B/2),B*1.6),h-(B",263433,50,"D,F))){z=Math.min(Math.max(s,b+B),E-B);u=h;C",263527,47,"F))){z=E;u=Math.max(Math.min(q-r,h-B*1.3),B/2);g=-r-10;p=\"right\"}}}}if(z",263646,65,"z",263712,97,"C",263810,15053,"z",278864,150,"z.push(t);u[t.id]=true}}q=z",279041,166,"z",279208,317,"z=q.match(t.re);n=t.method;if(z",279556,114,"z.slice(1)))):t.method,args:z.slice(1)});q=q.replace(z",279724,1727,"Img\",{extend:Ext.Component,xtype:[\"image\",\"img\"],config:{src",497461,33,"img\",imageCls:Ext.baseCSSPrefix+\"img-image\",backgroundCls:Ext.baseCSSPrefix+\"img-background\",mode:\"background\"",513420,34,"a=this;a.onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",573085,52,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hid",574207,36,"hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show:function(){this.callParent();if(this.hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode",252137,32,"mageCls(),b=c.getBackgroundCls();if(d===\"background\"){if(c.imageElement){c.imageElement.destroy();delete c.imageElement;c.updateSrc(c.getSrc())}c.replaceCls(a,b)}else{c.imageElement=c.element.createChild({tag:\"img\"});c.replaceCls(b,a)}},updateImageCls:function(b,a){this.replaceCls(a,b)},updateBackgroundCls:function(b,a){this.replaceCls(a,b)},",288916,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b",475153,35,"Height:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);this.callParent(",345749,36,"detachListeners();Ext.destroy(this.imageObject,this.imageElement);delete this.imageObject;delete this.imageElement;",497279,37,281451,96591,"C,t){var v=[],z=C.prototype,w={},m=z",378078,86,"C),B,A,r,p,u;for(r=0;r<n;r++){B=g[r];for(p=0;p<s;p++){A=e[B][q[p]];if(A in z){w[A]=b.generateProxyMethod(A)}}}C.addStatics(w);C.modelName=l;z",378305,710,"C);var D=C.prototype.superclass;C.prototype.associations=C.associations=C.prototype._associations=(D&&D.associations)?D",379134,55,"E){return E.getName()});C.prototype.validations=C.validations=C.prototype._validations=(D&&D.validations)?D",379296,54,"E){return E.field?(E.field+\"-\"+E.type):(E.name+\"-\"+E.type)});C.prototype=Ext.Object.chain(C.prototype);C.prototype.initConfig.call(C.prototype,m);delete C",379504,33,"C",379538,42266,",{xtype:\"panel\",style:\"font-size: 10pt; float: right; margin-right: 10px;\",html:\"For help, <a href='mailto:sanchit@resolutiontube.com' id='startEmail'>email us!</a>\",",421803,387,"getValue(),Ext.getCmp(\"password_field\").getValue()",422232,6830,"H=this,h=this.lengthProperties,z={},G={},I={},d,s,A,e,u,K,v,q,r,a,C,B,o,D,l,t,g,E,J,k,f,w,n,c,F",429157,80,"C=0,o=p.length;C<o;C++){D=p[C];D=Ext.factory(D,Ext.fx.Animation);d=D",429305,59,"I=Ext.merge({},D.getData());if(D.onBeforeStart){D.onBeforeStart.call(D.scope||this,d)}D.fireEvent(\"animationstart\",D",429480,39,"D);I[s]=I;u=I.before;A=I.from;e=I.to;I.fromPropertyNames=K=[];I.toPropertyNames=v=[];for(J in e){if(e.hasOwnProperty(J)){e[J]=k=this.formatValue(e[J],J);E=this.formatName(J);n=h.hasOwnProperty(J",429713,33,"E,k)}if(A.hasOwnProperty(J)){A[J]=w=this.formatValue(A[J],J",429805,33,"E,w)}if(k!==w){K.push(E);v.push(E)}}else{f=g.getPropertyValue(E);if(k!==f){v.push(E",429921,48,"I,D",429972,116,"K,v),true,I.replacePrevious)}c=a.nameMap;F=a.nameList;t={};for(B=0;B<l;B++){J=v[B];t[J]=true;if(!c.hasOwnProperty(J)){c[J]=1;F.push(J)}else{c[J",430231,53,"I,animation:D};b.push(m);D.o",426474,33,"z[s]=A=Ext.apply(Ext.Object.chain(u),A);if(F.length>0){K=Ext.Array.difference(F,K);v=Ext.Array.merge(K,v);A[\"transition-property\"]=K}G",430479,78,"I",430558,42,"I.easing;e[\"transition-delay\"]=I.delay;D",430640,57,"z",430698,96,"H.applyStyles(G",430809,10809,"z",441619,93,"A",441713,53,"B,n,c,w,s;for(v=0,k=z.length;v<k;v++){B=z[v];u.setDelegatedTarget(B);if(p){n=B",441844,76,"B",441921,69,"A[c]){A",441997,235,"z.length;t<d;t++){B=z",442253,63,"B,s)){u.setDelegatedTarget(B",442344,40645,"whiteboardlist:\"whiteboardlist",482987,329,",whiteboardlist",483275,44578,"multipl",527696,35,570958,34,527887,1431," class=\\\"no_bullet\\\"",529318,241,"multiple_data_link'>{multiple_data_link}",547981,51,530388,163,531028,113,560592,34,532848,282,533215,278,568943,113,533716,1276,"f){var e=this.getSearchResults();e",566046,38,"Loading...\",indicator:true,});",534995,117,"f",535113,113,"i){",484012,38,"a.setData(h",535278,124,"h",535403,297,";e",552224,36,"h){",549965,48,535770,35,";e.setMasked(false)},})}catch(g){e.setMasked(false);",535819,222,536289,9803,"C",546092,292,"C",546384,658,"getValue())},",544862,35,547086,375,"a href=\\\"javascript:;\\\" id=\\\"startMessag",547735,32,"ResTube Message</div></a><tpl if=\\\"values.skype_id && !ios\\\"><a id=\\\"negVideoChat",547736,38,547540,36,"skype_id && ios",547691,47," id=\\\"startSkyp",547735,39,547540,36,547477,35," id='startCall'><div class='actionButton'>Phone ",547539,79," id='startEmail",547617,50,529358,59,"tpl if=\\\"skills.length\\\"",547851,43,"Areas of Expertise",547905,84,547983,153,"element:\"element\",delegate:\"a#negVideoChat\",event:\"tap\",fn:\"onNegVideoButtonTap\",},",548135,88,",{element:\"element\",delegate:\"a#startMessage\",event:\"tap\",fn:\"onStartMessage",530623,36,"a#startCall\",event:\"tap\",fn:\"onStartCall",530623,36,"a#startEmail\",event:\"tap\",fn:\"onStartEmail",530623,36,"a#startSkype\",event:\"tap\",fn:\"onStartSkypeTap\",}],},onNegVideo",556911,34,"Unavailable video chat button tapped!\");this.fireEvent(\"negVideoButtonCommand\",this);var a=this.getData();this.fireEvent(\"addStatistic\",a,\"skype_fail",558628,90,548313,42,"this.fireEvent(\"osCheck\",this);",548355,127,"onStartMessageTap",548343,32,";this.fireEvent(\"launchWhiteboard\",a,\"\");this.fireEvent(\"addStatistic\",a,\"message\")},onStartCallTap",548343,32,";this.fireEvent(\"addStatistic\",a,\"call\")},onStartEmailTap",548343,32,";this.fireEvent(\"addStatistic\",a,\"email\")},onStartSkypeTap",548343,32,";this.fireEvent(\"addStatistic\",a,\"skype",548478,562,"osCheck:\"onOsCheckCommand\",negVideoButtonCommand:\"onNegVideoButtonCommand\",addStatistic:\"onAddStatistic",549038,2400,"Conta",551443,912,"AddStatistic:function(a,e){var d=Ext.getStore(\"Logins\");var b=d",569169,37,"c",567584,60,"dealing",566384,119,"from_user:b.resource_uri,to_user:a.user.resource_uri,deal_type:e,",549591,34,"f",565120,56,"message!\")},failure:function(f){},})",552351,105,"onOsCheckCommand:function(b){console.log(\"initiating OS check\"",550946,32,"contactData=a.getData();contactData.ios=true;if(!Ext.os.is(\"iOS\")){contactData.ios=false}console.log(contactData);a.setData(contactData)},onNegVideoButtonCommand:function(b){var a=this.getContactDetail();a",566654,39,"orry, video chat is not supported on your device quite yet.\",indicator:true,});var c",484940,46,"a.setMasked(false)});c.delay(2000",552453,3476,"Q",555929,376,"Q",546384,40,556345,227,556639,631,"getValue()",557276,794,"textarea rows=\\\"8\\\" cols=\\\"30",558087,40,"/textarea",558125,158,"[",528622,52,"4\"",576717,40,"Mark as Resolved\",ui:\"action\",hidden:true,itemId:\"resolveButton\"",530477,36,"4",559968,33,558409,95,"delegate:\"#resolveButton\",event:\"tap\",fn:\"onResolveButtonTap\"",577866,56,558557,301,"textarea",558863,47,502558,41,"\"Commenting\",indicator:true,}",558908,107,"onResolve",556911,34,"Issue resolved!\");var a=this.getData();this.fireEvent(\"markResolvedCommand\",this,a",559012,417,"area",559429,322,"}}",576717,40,559805,390,"getValue(),Ext.getCmp(\"detailsText\").getValue(),Ext.getCmp(\"mediaURL\").getValue()",528908,65,560329,1090,"markResolvedCommand:\"onMarkResolved",561410,2582,"var g=Ext.getStore(\"Logins\");var c=g.data.all[0].data;",563992,57,566274,33,564863,47,"+a+\"/?format=json\";var d=Ext.Ajax.request({url:e",567712,88,483951,46,484012,53,"console.log(c);var j=f.getComponent(\"resolveButton\");if(c.username==h.posted_by.username&&h.status==\"U\"){console.log(\"unresolved\");j.setHidden(false)}else{console.log(\"resolved\");j.setHidden(true)}f.setData(h",534528,33,"f",536254,33,";b",552224,36,"h){",549965,48,564531,44,"MarkResolvedCommand:function(c,a){console.log(\"checking off issue...\"",564043,37,"b=this;a.status=\"R\";var d",567584,69,"\".concat(a.id).concat(\"/\"),method:\"PATCH",566399,49,"jsonData:{status:\"R\",",550368,34,"g",565120,43,"\");console.log(g.statusText);var f",484940,46,"console.log(\"callback!\");e",566046,38,"Marking as resolved...\",indicator:true,});e.setMasked(false);b.onQuestionInfoCommand(c,a.id)});f.delay(1000",564460,35,563306,51," when trying to mark resolved",564565,39,"k,f,a,b){var e=this.getQuestionForm();var g=this.getMainContainer();var j=this;if(f",564611,52,"f",564664,36,"d=Ext.getStore(\"Logins\");var i=d.data.all[0].data;console.log(i);var h",567584,69,564909,128,"i.resource_uri,question:f",565062,42,"m){console.log(m",565120,68,"e",566654,51,565240,32,"l",484940,46,"console.log(\"callback!\");e",566046,65,"e.setMasked(false);e.reset();var o=e",565515,51,"mediaURL\");var n=e",565515,61,"o.setValue(m.url);o.disable();o.setHidden(true);n",565625,49,"g",534800,34,";j.loadQuestionsData()});l.delay(1000)},failure:function(m){console.log(m",549963,50," when trying to add Question\");e",566046,38,565902,71,"l",484940,46,"console.log(\"callback!\");e",566046,65,"e.setMasked(false)});l.delay(2000)},})}else{console.log(\"Invalid Question\");e",566046,38,"You have to fill out the Question section!\",indicator:false,});var c",484940,46,"console.log(\"callback!\");e",566046,65,"e.setMasked(false)});c.delay(2000)}",566149,420,"k){console.log(k",565120,68,"e.onQuestionInfoCommand(g,a",566943,341,566851,48,567329,2875,"view.Whiteboard",529086,34,"whiteboard",529134,43,"null,tpl:'<div class=\\'message_card\\'",553511,37,"2 columns\"><b>From:</b> {from_user.username}<br/><b>To:</b> {to_user.username}</div></div",553511,37,"2 columns\"><textarea rows=\"3\" name=\"message\" id=\"messageText\"></textarea></div></div><div id=\\'canvasDiv\\'></div",553511,36,"6 columns\"></div><div class=\"small-6 columns\"><button type=\"button\" value=\"Send\" id=\"saveCanvasButton\">Send</button></div",528541,39,"title:\"Whiteboard\",docked:\"top",576508,43,"Cancel\",id:\"cancelButton\",}]},{itemId:\"browseFileBtn\",id:\"browseF",559545,38,"true,loadAsDataUrl:true,style:\"color: #000;font-size: 100%;width: 45%;vertical-align: top;background-color: #fff;padding: 0px;margin-left: 5%;border:1px solid #000;border-radius: .3em;-moz-border-radius: .3em;-khtml-border-radius: .3em;-webkit-border-radius: .3em;position: absolute;top: 88%;\",states:{browse:{text:\"Add Picture\"},ready:{text:\"Load\"},uploading:{text:\"Loading\",loading:true}}}],listeners:[",558414,37,"aveCanvasButton\",event:\"tap\",fn:\"onSaveCanvas\",},{delegate:\"#cancelButton\",event:\"tap\",fn:\"onCancel",558496,56,"if($(\"#canvasSignature\").length==0){console.log(\"true\");var a=$(\"#saveCanvasButton\").offset();$(\"#browseFileBtn\").offset({top:a.top})}else{console.log(\"false\");var a=$(\"#saveCanvasButton\").offset();$(\"#browseFileBtn\").offset({top:a.top+204})}$(\"#canvasDiv\").bind(\"DOMSubtreeModified\",function(){console.log(\"tree changed\");var b=$(\"#saveCanvasButton\").offset();$(\"#browseFileBtn\").offset({top:b.top})})},onSaveCanvas:function(){console.log(\"save canvas now!\");var d=\"\";var c=\"\";var e=\"\";try{d=document.getElementById(\"canvasSignature\");c=d.getContext(\"2d\").getImageData(0,0,d.width,d.height);e=d.toDataURL(\"image/png\").replace(\"data:image/png;base64,\",\"\")}catch(f){}var b=this.getData();console.log(b);var a=this.element.dom;var g=a.querySelectorAll(\"textarea[name=message]\")[0].value;this.fireEvent(\"saveDrawing\",b,g,c,e)},onCancelTap:function(){console.log(\"cancel canvas button\");this.fireEvent(\"cancelDrawing\"",552575,32,"Message",570735,87,"text",552709,57,570958,38,"[",552940,32,"User\",associatedName:\"from_user\",associationKey:\"from_user\",},",552940,32,"User\",associatedName:\"to_user\",associationKey:\"to_user\",},]}});Ext.define(\"ResTube.store.Messag",537255,56,"Message\",}});Ext.define(\"ResTube.view.WhiteboardList",553280,42,"whiteboardlist\",config:{loadingText:\"Loading messages...\",emptyText:\"<pre><div>No message",553418,47,"Messag",545087,140,"Message",555439,78,"message",545319,124,"Message",545450,205,"12 columns\"><b>{from_user.first_name}</b> &#8680; <b>{to_user.first_name}</b> &nbsp;<tpl if=\"media_url.length\"><img src=\"resources/icons/photo3.png\" width=\"16px\"/></tpl><br/><text class=\"message\">{text}</text",528541,59,"Messages",576508,67,"M",555929,56,"Message\",id:\"message",556013,43,"id:\"message",556061,100,"messages\",id:\"message",546261,45,"message",546313,71,"M",546384,40,"delegate:\"#messageButton\",event:\"tap\",fn:\"onMessage",559903,42,528751,34,",{delegate:\"#message",546506,32,"Message",546545,107,"message",556861,33,557018,99,"Message",556911,34,"On message button tap\");this.fireEvent(\"messageButton",548321,34,546807,61,"MessagesDataCommand\")},onMessageSearch",556911,34,"message",557173,40,"messageSearchCommand\",Ext.getCmp(\"messagesearchfield\").getValue()",578264,32,"essage",547086,40,"message",547133,58,"[\"<div class=\\\"message_card\\\"",547804,36,"8 columns'><b>From:</b> {from_user.first_name} {from_user.last_name}<br/><b>To:</b> {to_user.first_name} {to_user.last_name}<br/><i",553661,39,"</i></div><div class='small-4 columns'><img src='{from_user.user_image}' class='thumbnail_photo right'",547792,61,"p>{text}</p></div></div><hr class='message_divider'/",547804,49,"img src='{media_url}' class='message_pic'></div></div></div>\"",554100,1148,"items:[{xtype:\"toolbar\",title:\"Message\",docked:\"top\",items:[",528622,52,"10\"},{xtype:\"spacer\"",555949,36,"Reply\",hidden:false,id:\"replyMessage\",}]",530476,37,559966,35,"10",556427,33,"delegate:\"#replyMessage\",event:\"tap\",fn:\"onReplyMessage\",},],},onBackButtonTap10",528926,43,"10!\");this.fireEvent(\"backToMessage",548320,35,"},onReplyMessage",548343,32,";this.fireEvent(\"launchWhiteboard\",a,a.media_url)}",560592,34,"Whiteboard",482734,83,"whiteboard:{selector:\"whiteboard\",xtype:\"whiteboard\",autoCreate:true,},whiteboardList:{selector:\"whiteboardlist\",xtype:\"whiteboardlist\",autoCreate:true,},messageDetail:{selector:\"messagedetail\",xtype:\"messagedetail\",autoCreate:true,},browseFileBtn:\"whiteboard #browseFileBtn\"",548692,91,"whiteboard:{saveDrawing:\"onSaveDrawing\",cancelDrawing:\"onCancelDrawing\",fileLoadedSuccess:\"onFileLoadSuccess\",},whiteboardList:{loadMessagesDataCommand:\"onLoadMessagesDataCommand\",messageInfoCommand:\"onMessageInfoCommand\",messageSearchCommand:\"onMessage",561226,59,"messageButtonCommand:\"onMessageButtonCommand\",},browseFileBtn:{loadsuccess:\"onFileLoadSuccess\",loadfailure:\"onFileLoadFailure\",},contactDetail:{launchWhiteboard:\"onLaunchWhiteboard\",},messageDetail:{launchWhiteboard:\"onLaunchWhiteboard\",backToMessagesCommand:\"onBackToMessagesCommand\",},}},onLaunchWhiteboard:function(a,c){var f=this.getWhiteboard();var e={};console.log(\"onLaunchWhiteboard\");console.log(a);var d=Ext.getStore(\"Logins\");var b=d",569169,33,"if(c!=\"\"){console.log(\"media_url is NOT empty\");e.to_user=a.user;e.from_user=b;e.media_url=c;f.setData(e);console.log(e",534528,33,"f,{type:\"slide\",direction:\"up\"});this.onFileLoadSuccess(c,\"\")}else{console.log(\"media_url is empty\");if(a.user){e.to_user=a.user;e.from_user=b}else{e.from_user=b}e.media_url=\"\";f.setData(e);console.log(e",534528,33,"f,{type:\"slide\",direction:\"up\"})}},onMessage",485376,41,"MessageButtonCommand\");a",566654,39,"elect someone to message in the contacts list.\",indicator:false,});var b",484940,46,"console.log(\"callback!\");a",566046,38,"Messaging\",indicator:true,});a.setMasked(false)});b.delay(2000)},onBackToMessages",485382,35,"BackToMessagesCommand\");this.activateMessagesView()},onCancelDrawing:function(){this.activateMessagesView()},activateMessage",552471,107,"createCanvas:function(a,c){console.log(\"Create canvas\");var b=new Image();console.log(c);if(a.substr(0,4)==\"http\"){b.crossOrigin=\"Anonymous\"}b.src=a;console.log(\"checkpoint 1\");b.onload=function(){var j=200*b.width/b.height;var i=200;console.log(\"checkpoint 2\");var k={};k.node=document.createElement(\"canvas\");k.node.id=\"canvasSignature\";k.context=k.node.getContext(\"2d\");k.node.width=j;k.node.height=i;k.node.style.border=\"2px solid #000\";k.node.style.background=\"#FFF\";$(\"#canvasDiv\").empty();document.getElementById(\"canvasDiv\").appendChild(k.node);console.log(\"checkpoint 3\");var g=document.getElementById(\"canvasSignature\");var e=g.getContext(\"2d\");var h=false;console.log(\"checkpoint 4\");function f(l){if(l.targetTouches.length==1){var m=l.targetTouches[0];if(l.type==\"touchstart\"){h=true}else{if(l.type==\"touchmove\"){if(h){x=m.pageX-g.offsetLeft-5;y=m.pageY-g.offsetTop-50;d(x,y)}}else{if(l.type==\"touchend\"||l.type==\"touchcancel\"){h=false}}}}}function d(l,m){e.fillStyle=\"#ff0000\";e.beginPath();e.moveTo(l,m);e.arc(l,m,3,0,Math.PI*2,false);e.fill()}g.addEventListener(\"touchstart\",f,false);g.addEventListener(\"touchmove\",f,false);g.addEventListener(\"touchend\",f,false);console.log(b);console.log(\"checkpoint 5\");if(c>1000000){e.drawImage(b,0,0,b.width,b.height,0,0,j,i*4)}else{e.drawImage(b,0,0,j,i)}console.log(\"checkpoint 6\")}},onFileLoadSuccess:function(b,d){var a=this.getWhiteboard(",564664,32,"img=new Image();img.src=b;var c=this;img.onload=function(){if(b.substr(0,4)==\"http\"){c.createCanvas(b,img.height*img.width)}else{c.createCanvas(b,img.height*img.width)}}},onFileLoadFailure:function(a)",410342,38,"Loading error\",message:a",410429,36,"Ext.emptyFn})},onSaveDrawing:function(b,e,c,d){console.log(c);console.log(d);var a=this.getWhiteboard();a",566654,39,"ending\",indicator:true,});if(c==\"\"||d==\"\"){this.submitDrawing(\"\",b,e)}else{uploadResponse=this.doUpload(d,",559593,37,"canvas/\",b,e,true)}},submitDrawing:function(a,f,i){var h=this.getWhiteboard();var g=this.getWhiteboardList();var b=this.getMainContainer(",564694,35,"e",564730,32,"e);console.log(a);console.log(e.resource_uri);console.log(f.to_user.resource_uri);console.log(i);var d",567584,60,"messagewhiteboard",566384,119,"from_user:e.resource_uri,to_user:f.to_user.resource_uri,text:i,media_url:a,},success:function(k){console.log(k",565120,56,"message!\");h",534750,84,";g",566654,51,"Messaged!\",indicator:false,});var j",484940,46,"console.log(\"callback!\");g.setMasked(false);$(\"#canvasDiv\").empty()});j.delay(1000)},failure:function(k){console.log(k",549963,50," when trying to add Question\");h",566046,38,565902,71,"j",484940,46,"console.log(\"callback!\");h",566046,38,"Messaging\",indicator:true,});h.setMasked(false)});j.delay(2000)},})},doUpload:function(d,a,e,h,c){console.log(d);console.log(a);var i=new XMLHttpRequest();var f=this;var g=0;if(i.upload&&i.upload.addEventListener){i.upload.onprogress=function(k){if(k.lengthComputable){var j=(k.loaded/k.total)*100;g=k.total;console.log(j)}};i.onreadystatechange=function(k",411731,50,"j",411782,39,"j&&j.success){console.log(k);console.log(j);if(c){console.log(j);f.submitDrawing(j.url,e,h)}else{console.log(j);f.createCanvas(j.url,g)}return j}else{if(j&&j.message){console.log(j);return j}else{console.log(j);return j}}}else{console.log(this.status+\" \"+this.statusText);return j}}};i.upload.onerror=function(j){console.log(\"onerror\");console.log(j)}}i.open(\"POST\",a);var b=new FormData();b.append(\"canvasImage\",d);console.log(b);i.send(b)},onLoadMessagesData",550046,32,"loading messages...\");var c=this.getWhiteboardList();var f=c.getStore(",569131,35,"a=e.data.all[0].data;c",566046,38,"Loading\",indicator:true",549424,73,"messagewhiteboard",549508,83,"including_user:a.username",569467,35,549625,35,535233,34,"console.log(g);console.log(c);f.removeAll();f.add(g.objects);",552223,37,569846,66,"\");c",566046,38,"Oops, something went wrong! Please try again.",569695,98,"c",570142,38,"catch(d){c.setMasked(false)",550029,77,"d=this.getWhiteboardList();var a=d.getStore().getCount();var g=d.getStore();var f=Ext.getStore(\"Logins\");var b=f.data.all[0].data;try{var c",567584,60,"messagewhiteboard/?format=json&offset=\".concat(a",567711,70,"including_user:b.username",483931,66,484012,53,"console.log(d);g.add(h.objects);d.setMasked(false);if(!h",550697,37,"Message",550741,35,569846,66,"\")},})}catch(e){}},onMessageInfoCommand:function(a,d){var h=Ext.getStore(\"Logins\");var b=h.data.all[0].data;console.log(\"onMessageInfoCommand!",551528,32,"MessageDetail();var f=this.getWhiteboardList();var g=",564863,37,"messagewhiteboard/\"+d+\"/?format=json\"",566652,40,"Loading\",indicator:true,});var e=Ext.Ajax.request({url:g",567712,88,"k",483952,45,"var j=Ext.JSON.decode(k.responseText);console.log(j);console.log(b);var i=Ext.getCmp(\"replyMessage\");if(j.from_user.id==b.id){console.log(\"not so fast, sender!\");i.setHidden(true)}else{i.setHidden(false)}c.setData(j",534528,33,"c",536254,33,";c.setMasked(false);f",552224,36,"j){",549965,48,564531,36,566652,40,"Oops, something went wrong! Please try again..\",indicator:false,});var i",484940,46,567220,37,"false)});i",570163,6295,"scrollable:true",577359,45,576502,73,"S",576575,77,576666,133,"id:\"searchButton\",},{},{xtype:\"panel\",margin:\"0 10px 0 10px\",html:'<div class=\"actionButton\"><a href=\"https://www.comfortsite.com/ebiz/application/TechSupport/HVACKCLogin.asp?Source=PI\">HVAC Knowledge Center</a></div><div class=\"actionButton\"><a href=\"https://www.comfortsite.com/ebiz/application/productinfo/elibrary.asp\">eLibrary</a></div><div class=\"actionButton\"><a href=\"https://www.comfortsite.com/ebiz/FQA/default.aspx\">Field Quality Alert</a></div><div class=\"actionButton\"><a href=\"https://www.comfortsite.com/EBiz/Application/ProductInfo/PerformanceData/default.asp\">Performance Data</a></div><div class=\"actionButton\"><a href=\"https://www.comfortsite.com/EBiz/webcats/default.aspx\">WebCATS</a></div><div class=\"actionButton\"><a href=\"https://www.comfortsite.com/EBiz/home/Home.asp?StartPage=%2fEBiz%2fhome%2fHomeSplash.asp\">Model Number Lookup</a></div>',},",576800,37,"S",546384,40,576877,602,"F\",}],",421535,53,577537,225,"F",546384,40,577802,356,577128,42,546718,71,578267,203,"Messages\",iconMask:true,iconCls:\"mail\",xtype:\"whiteboardlist\",},",578462,65,"Contacts\",iconMask:true,iconCls:\"address_book",578618,50,"Mask:true,iconCls:\"quote1",578679,955,",\"Messag",579632,139,"Feedback\",\"Whiteboard\",\"WhiteboardList\",\"MessageDetail",579791,115,",\"Whiteboard",579895,67,",\"Messag",579959,1531]