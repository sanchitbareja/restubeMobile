["/*4daf026c8451814e0537a557ca31ac77595db2f7",42,372096,".proxy.WebStorage",307254,36,"ternateClassName:\"Ext.data.WebStorageProxy\",requires:\"Ext.Date\",config:{id:undefined,reader:null,writer:null,enablePagingParams",285790,37,"callParent(arguments);this.cache={}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];b=g.getId();this.setRecord(g);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(h,o,p){var e=[],a=this.getIds(),l=this.getModel(),q=l.getIdProperty(),g=h.getParams()||{},n=h.getSorters(),d=h.getFilters(),b=h.getStart(),f=h.getLimit(),c=a.length,j,k,m;if(g[q]!==undefined){k=this.getRecord(g[q]);if(k){e.push(k);h.setSuccessful()}}else{for(j=0;j<c;j++){e.push(this.getRecord(a[j]))}m",311062,33,");if(d&&d.length){m.setFilters(d)}if(n&&n.length){m.setSorters(n)}m.addAll(e);if(this.getEnablePagingParams()&&b!==undefined&&f!==undefined){e=m.items.slice(b,b+f)}else{e=m.items.slice()}h.setSuccessful()}h.setCompleted();h.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:e,total:e.length,loaded:true}));h.setRecords(e);if(typeof o==\"function\"){o.call(p||this,h)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;b.setStarted();for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);",307490,35,"if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(d){if(this.cache[d]===undefined){var m=this.getRecordKey(d),n=this.getStorageObject().getItem(m),g={},f=this.getModel(),k=f.getFields().items,e=k.length,h,l,c,j,a,b;if(!n){return undefined}a=Ext.decode(n);for(h=0;h<e;h++){l=k[h];c=l.getName();if(typeof l.getDecode()==\"function\"){g[c]=l.getDecode()(a[c])}else{if(l.getType().type==\"date\"){b=l.getDateFormat();if(b){g[c]=Ext.Date.parse(a[c],b)}else{g[c]=new Date(a[c])}}else{g[c]=a[c]}}}j=new f(g,d);this.cache[d]=j}return this.cache[d]},setRecord:function(l,d){if(d){l.setId(d)}else{d=l.getId()}var o=this,a=l.getData(),k={},g=o.getModel(),m=g.getFields().items,f=m.length,j=0,p,c,h,q,b;for(;j<f;j++){p=m[j];c=p.getName();if(p.getPersist()===false){continue}if(typeof p.getEncode()==\"function\"){k[c]=p.getEncode()(a[c],l)}else{if(p.getType().type==\"date\"&&Ext.isDate(a[c])){b=p.getDateFormat();if(b){k[c]=Ext.Date.format(a[c],b)}else{k[c]=a[c].getTime()}}else{k[c]=a[c]}}}h=o.getStorageObject();q=o.getRecordKey(d);o.cache[d]=l;h.removeItem(q);try{h.setItem(q,Ext.encode(k))}catch(n",297893,34,"n)}l.commit()},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}return b},setIds:function(a){var c=this.getStorageObject(),d=a.join(\",\"),f=this.getId();c.removeItem(f);if(!Ext.isEmpty(d)){try{c.setItem(f,",297883,44,"b)}}",236255,33,"Parent(arguments);var a=this.getStorageObject();try{a.setItem(this.getId(),a.getItem(this.getId())||\"\"",297884,43,"b)}},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b],false)}d.removeItem(this.getId())},getStorageObject",180127,32,"data.proxy.LocalStorage\",{extend:\"Ext.data.proxy.WebStorage\",alias:\"proxy.localstorage\",alternateClassName:\"Ext.data.LocalStorageProxy\",getStorageObject:function(){return window.localStorage",372941,39,372153,92990,"plugin.PullRefresh",267767,33,"plugin.pullrefresh\",requires:[\"Ext.DateExtras\"],config:{list:null,pullRefreshText:\"Pull down to refresh...\",releaseRefreshText:\"Release to refresh...\",lastUpdatedText:\"Last Updated:\",loadingText:\"Loading...\",snappingAnimationDuration:150,refreshFn:null,pullTpl:['<div class=\"x-list-pullrefresh\">','<div class=\"x-list-pullrefresh-arrow\"></div>','<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\",'<div class=\"x-list-pullrefresh-wrap\">','<h3 class=\"x-list-pullrefresh-message\">{message}</h3>','<div class=\"x-list-pullrefresh-updated\">{lastUpdatedText}&nbsp;{lastUpdated:date(\"m/d/Y h:iA\")}</div>',\"</div>\",\"</div>\"].join(\"\"),translatable:true},isRefreshing:false,currentViewState:\"\"",236256,32,"Parent();this.on({painted:\"onPainted\",scope:this})},init:function(b){var a=this;a.setList(b);a.initScrollable()},initScrollable:function(){var d=this,g=d.getList(),b=g.getStore(),f=d.getPullTpl(),c=d.element,e=g.getScrollable(),a;if(!e){return}a=e.getScroller();d.lastUpdated=new Date();g.container.insert(0,d);if(b){if(b.isAutoLoading()){g.setLoadingText(null)}else{b.on({load:{single:true,fn:function(){g.setLoadingText(null)}}})}}f.overwrite(c,{message:d.getPullRefreshText(),lastUpdatedText:d.getLastUpdatedText(),lastUpdated:d.lastUpdated},true);d.loadingElement=c.getFirstChild();d.messageEl=c.down(\".x-list-pullrefresh-message\");d.updatedEl=c.down(\".x-list-pullrefresh-updated\");d.maxScroller=a.getMaxPosition();a.on({maxpositionchange:d.setMaxScroller,scroll:d.onScrollChange,scope:d})},onScrollableChange:function(){this.initScrollable()},updateList:function(a,c){var b=this;if(a&&a!=c){a.on({order:\"after\",scrollablechange:b.onScrollableChange,scope:b})}else{if(c){c.un({order:\"after\",scrollablechange:b.onScrollableChange,scope:b})}}},fetchLatest:function(){var b=this.getList().getStore(),c=b.getProxy(),a;a",343855,33,"{page:1,start:0,model:b.getModel(),limit:b.getPageSize(),action:\"read\",filters:b.getRemoteFilter()?b.getFilters():[]});c.read(a,this.onLatestFetched,this)},onLatestFetched:function(d){var j=this.getList().getStore(),b=j.getData(),c=d.getRecords(),a=c.length,g=[],h,f,e;for(e=0;e<a;e++){h=c[e];f=b.getByKey(h.getId());if(f){f.set(h.getData())}else{g.push(h)}f=undefined}j.insert(0,g)},onPainted:function(){this.pullHeight=this.loadingElement.getHeight()},setMaxScroller:function(b,a){this.maxScroller=a},onScrollChange:function(b,a,c){if(c<0){this.onBounceTop(c)}if(c>this.maxScroller.y){this.onBounceBottom(c)}},applyPull",389457,80,"BounceTop:function(e){var b=this,d=b.pullHeight,c=b.getList(),a=c",399967,34,"!b.isReleased){if(!d){b.onPainted();d=b.pullHeight}if(!b.isRefreshing&&-e>=d+10){b.isRefreshing=true;b.setViewState(\"release\");a.getContainer().onBefore({dragend:\"onScrollerDragEnd\",single:true,scope:b})}else{if(b.isRefreshing&&-e<d+10){b.isRefreshing=false;b.setViewState(\"pull\")}}}b.getTranslatable().translate(0,-e)},onScrollerDragEnd:function(){var b=this;if(b.isRefreshing){var c=b.getList(),a=c.getScrollable().getScroller();a.minPosition.y=-b.pullHeight;a.on({scrollend:\"loadStore\",single:true,scope:b});b.isReleased=true}},loadStore:function(){var b=this,c=b.getList(),a=c.getScrollable().getScroller();b.setViewState(\"loading\");b.isReleased=false;Ext.defer(function(){a.on({scrollend:function(){if(b.getRefreshFn()){b.getRefreshFn().call(b,b)}else{b.fetchLatest()}b.resetRefreshState()},delay:100,single:true,scope:b});a.minPosition.y=0;a.scrollTo(null,0,true)},500,b)},onBounceBottom:Ext.emptyFn,setViewState:function(d){var b=this,c=Ext.baseCSSPrefix,e=b.messageEl,a=b.loadingElement;if(d===b.currentViewState){return b}b.currentViewState=d;if(e&&a){switch(d){case\"pull\":e.setHtml(b.getPullRefreshText());a.removeCls([c+\"list-pullrefresh-release\",c+\"list-pullrefresh-loading\"]);break;case\"release\":e.setHtml(b.getReleaseRefreshText());a.addCls(c+\"list-pullrefresh-release\");break;case\"loading\":e.setHtml(b.getLoadingText());a.addCls(c+\"list-pullrefresh-loading\");break}}return b},resetRefreshState:function(){var a=this;a.isRefreshing=false;a.lastUpdated=new Date();a.setViewState(\"pull\");a.updatedEl.setHtml(this.getLastUpdatedText()+\"&nbsp;\"+Ext.util.Format.date(a.lastUpdated,\"m/d/Y h:iA\")",465122,18232,"g,d){console.log(g);console.log(d",483387,36,"c=this.base64_encode(g+\":\"+d);console.log(c);var f=this.getMainContainer();var b=this.getLoginContainer();var e",483503,65,491353,74,483644,32,"c,},params:{username__exact:g,},success:function(i",491455,45,"console.log(i);var h=Ext.JSON.decode(i.responseText);console.log(h);if(h.meta[\"total_count\"]==1){var j=Ext.create(\"ResTube.model.Login\",{id:h.objects[0][\"id\"],username:g,password:d,authentication:c,resource_uri:h.objects[0][\"resource_uri\"],});console.log(\"newLogin:\");console.log(j);var k=Ext.getStore(\"Logins\");console.log(k);if(k.findRecord(\"id\",j.data.id)==null){k.add(j);console.log(\"adding newLogin\")}console.log(k.sync());b.setMasked(false",483794,102,"f",487629,34,"},failure:function(h){console.log(h",483965,683,"div id=\"productItem-{id}\" class=\"row\"><div class=\"small-4 columns\" id=\"productItem-{id}\"><tpl for=\"media\"><tpl if=\"id == 1\"><img src=\"{url}\" class=\"thumbnail_photo_list\" id=\"productItem-{[parent.id]}\"></tpl></tpl></div><div class=\"small-8 columns\" id=\"productItem-{id}\"><strong id=\"productItem-{id}\">{name}</strong><br /><i id=\"productItem-{id}\">Model No.:{model_no}</i></div></div",492731,47,484742,234,"b",485028,342," class='row'><div class='small-12 columns'><strong>{name}</strong><br /><i>Model No: {model_no}</i><br /><i>Serial No: {serial_no}</i><br /></div></div><div class='row'><div class='small-12 columns'><tpl for=\\\"media\\\"><img src=\\\"{url}\\\" style=\\\"width:100%;\\\"></tpl></div></div><div class='row'><div class='small-12 columns'><img src=\\\"{parts_link}\\\" style=\\\"width:100%;\\\"></div></div><div class='row'><div class='small-12 columns'><tpl if='values.iom_link'><button style='width:100%;' class='actionButton' id='iom_link' name='{iom_link}'>IOM<br /></tpl><tpl if='values.service_bulletin_link'><button style='width:100%;' class='actionButton' name='{service_bulletin_link}' id='service_bulletin_link'>Service Bulletin<br /></tpl><tpl if='values.electrical_link'><button style='width:100%;' class='actionButton' name='{electrical_link}' id='electrical_link'>Electrical Schematic<br /></tpl><tpl if='values.service_history_link'><button style='width:100%;' class='actionButton' name='{service_history_link}' id='service_history_link'>Service History<br /></tpl><tpl if='values.performance_data_link'><button style='width:100%;' class='actionButton' name='{performance_data_link}' id='performance_data_link'>Performance Data<br /></tpl></div",493371,40,"Product Info",490318,73,"2",484816,39,"2",490432,33,"2\",},{element:\"element\",delegate:\"button#iom_link\",event:\"tap\",fn:\"onIomLinkTap\",},{element:\"element\",delegate:\"button#service_bulletin_link\",event:\"tap\",fn:\"onServiceBulletinLinkTap\",},{element:\"element\",delegate:\"button#electrical_link\",event:\"tap\",fn:\"onElectricalLinkTap\",},{element:\"element\",delegate:\"button#service_history_link",486002,34,"LinkTap\",},{element:\"element\",delegate:\"button#performance_data_link\",event:\"tap\",fn:\"onPerformanceDataLink",486166,121,"IomLinkTap:function(){console.log(\"onIomLinkTap\");var a=Ext.get(\"iom_link\");console.log(a.dom.name);this.fireEvent(\"loadPdfViewerCommand\",this,a.dom.name);console.log(\"firedEvent\")},onServiceBulletinLink",496848,32,"rviceBulletinLinkTap\");var a=Ext.get(\"service_bulletin_link\");console.log(a.dom.name);this.fireEvent(\"loadPdfViewerCommand\",this,a.dom.name);console.log(\"firedEvent\")},onElectricalLinkTap:function(){console.log(\"onElectricalLinkTap\");var a=Ext.get(\"electrical_link\");console.log(a.dom.name);this.fireEvent(\"loadPdfViewerCommand\",this,a.dom.name);console.log(\"firedEvent\")},onServiceHistoryLink",496848,32,"rviceHistoryLinkTap\");var a=Ext.get(\"service_history_link\");console.log(a.dom.name);this.fireEvent(\"loadPdfViewerCommand\",this,a.dom.name);console.log(\"firedEvent\")},onPerformanceDataLinkTap:function(){console.log(\"onPerformanceDataLinkTap\");var a=Ext.get(\"performance_data_link\");console.log(a.dom.name);this.fireEvent(\"loadPdfViewerCommand\",this,a.dom.name);console.log(\"firedEvent\"",485225,32,"DFViewer",449987,40,"googlepdfviewer",493218,48,"padding:0,margin:0,tpl:'<iframe src=\"http://docs.google.com/viewer?url={encoded_pdf_url}&embedded=true\" width=\"100%\" height=\"100%\" style=\"border: none;\"></iframe>'",485503,33,"DF",490318,73,"6",484816,39,"6",490432,33,"6\",}],},onBackButtonTap6",486192,43,"6!\");this.fireEvent(\"backToProduct",493679,50,486516,284,"googlePdfViewer:{selector:\"googlepdfviewer\",xtype:\"googlepdfviewer\",autoCreate:true,}",486800,234,"loadPdfViewerCommand:\"onLoadPdfViewerCommand\",},googlePdfViewer:{backToProductCommand:\"onBackToProductCommand\",}",483119,109,487145,34,"e){console.log(e",487195,43,"d=this.getSearchResults();var b=this.getRestubeSearch();console.log(d);var c",483503,60,487344,105,"e",495166,116,".objects);d.setData(f.objects",495295,33,"d",487629,33,";b.setMasked(false",492156,71,487732,106,"BackToProduct",492280,40,"ProductCommand\");this.activateProductInfo",487832,741,"onLoadPdfViewerCommand:function(a,c){console.log(\"onLoadPdfViewerCommand\");var b=encodeURIComponent(c);console.log(b);var d=this.getGooglePdfViewer();d.setData({encoded_pdf_url:b}",495295,33,"d",487629,35,488573,432,"righ",489008,157,"feed :(",484624,37,489209,36,"masked:{xtype:\"loadmask\",message:\"Loading Feed...\",},plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down to refresh!\",refreshFn:function(a){a.parent.parent.fireEvent(\"loadDataCommand\")},}]",492733,45,489289,2299,";console.log(\"Getting data from localstorage\");var e=Ext.getStore(\"Logins\");console.log(e.getData());a.setMasked(false",494782,96,491683,982,"masked:{xtype:\"loadmask\",message:\"Loading Contacts...\",},plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down to refresh!\",refreshFn:function(a){a.parent.parent",493089,40,"],itemTpl:'<div id=\"contactItem-{id}\" class=\"row\"><div class=\"small-4 columns\" id=\"contactItem-{id}\"><img src=\"{thumbnail_photo}\" class=\"thumbnail_photo_list\" id=\"contactItem-{id}\"></div><div class=\"small-8 columns\" id=\"contactItem-{id}\"><strong id=\"contactItem-{id}\">{user.first_name} {user.last_name}</strong><br /><i id=\"contactItem-{id}\">{job_title}</i></div></div",492731,169,"console.log(Ext.get(b));var d=Ext.get(b",492966,309," class='row'><div class='small-5 columns'><img src='{thumbnail_photo}' class='thumbnail_photo'></div><div class='small-7 columns'><strong>{user.first_name} {user.last_name}</strong><br /><i>{job_title}</i></div></div><div class='row'><div class='small-12 columns'><a href='tel:{phone_no}'><div class='actionButton'>Call</div></a><a href='mailto:{user.email}'><div class='actionButton'>Email</div></a><a href=\\\"https://plus.google.com/hangouts/_?gid=856453701131\\\"><div class=\\\"actionButton\\\">Video Chat</div></a></div",493371,1412,";b.setMasked(false",494782,944,"Question",489042,55,"question",489097,35,"Questions...\",emptyText:\"<pre><div>No question :(",484624,37,"questionItem-{id}\">{question}</div><pre>',masked:{xtype:\"loadmask\",message:\"Loading Questions...\",},plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down to refresh!\",refreshFn:function(a){a.parent.parent.fireEvent(\"loadQuestionsDataCommand\")},}]",492733,45,"TechConnect\",items:[",489308,55,"QuestionFeedButton\"},{xtype:\"spacer\",},{xtype:\"button\",ui:\"action\",text:\"New\",id:\"addQuestionButton\",}]",489375,34,"Question",489409,51,"delegate:\"#addQuestionButton\",event:\"tap\",fn:\"onAdd",489446,160,"questionItem]\")[0]).id.slice(13);this.fireEvent(\"question",489659,64,"questions data!\");this.fireEvent(\"loadQuestions",489756,66,"questions data!\");this.fireEvent(\"loadQuestionsDataCommand\")},onAdd",496842,34,"Adding questions data!\");this.fireEvent(\"addQuestion",493117,39,"Question",489901,42,"question",493212,72,"Question: {question}</li><li>Comments: <tpl for='comments'><p></p>{comment}, posted_by: {posted_by.username}</tpl>",490087,46,493368,43,"Ques",485550,77,493503,168,"Question",490559,54,"Question",486522,92,"QuestionFeed:{selector:\"restubequestionfeed\",xtype:\"restubequestionfeed\",autoCreate:true,},questionDetail:{selector:\"questiondetail\",xtype:\"question",493962,43,"QuestionFeed:{questionInfoCommand:\"onQuestionInfoCommand\",loadQuestionsDataCommand:\"loadQuestionsData\",addQuestionCommand:\"onAddQuestionCommand\",},questionDetail:{backToQuestionFeedCommand:\"onBackToQuestionFeed",494156,224,"Questions",491206,37,"questions...\");var a=this.getRestubeQuestion",491274,72,"question",491352,236,";a.setMasked(false",494782,96,"QuestionInfoCommand:function(b,a){console.log(\"onQuestionInfoCommand!\");console.log(a);var e=this.getQuestion",494984,52,"question/\"+a",495051,233,"e",492080,43,"e",487629,52,492176,72,"Question Info\")},})},onAddQuestionCommand:function(a){console.log(\"onAddQuestionCommand!\"",491279,67,"question/\",method:\"POS",487376,50,"headers:{\"Content-Type\":\"application/json\",},jsonData:{posted_by:\"/api/v1/user/1/\",question:\"How do you add a question via POST?\",},success",491597,41,"Spiffing, everything worked! Added a new question!\"",494782,86," when trying to add Question\")},})},onBackToQuestion",492276,71,"QuestionFeedView()},activateQuestion",492367,133,"model.Login\"",358687,34,"idProperty:\"id\",fields:[{name:\"username\",type:\"string\"},{name:\"password\",type:\"string\"},{name:\"authentication\",type:\"string\"},{name:\"resource_uri\",type:\"string\"},{name:\"id\",type:\"string\"},],}});Ext.define(\"ResTube.store.Logins\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.LocalStorage\",config:{model:\"ResTube.model.Login\",autoLoad:true,autoSync:true,proxy:{type:\"localstorage\",id:\"login-store\",}}",495698,127,"masked:{xtype:\"loadmask\",message:\"Logging In...\",}",492733,45,495869,332,489458,34,"Show",388303,35,496205,65,"setMasked(true",496263,244,"masked:{xtype:\"loadmask\",message:\"Searching...\",}",492733,45,496551,279,489458,34,"Show",388303,35,496834,67,"setMasked(true",496894,324,"Questions\",iconCls:\"bookmarks\",xtype:\"restubequestionfeed\"",497208,156,"models:[\"Login\"],stores:[\"Logins\"]",497363,104,",\"QuestionFeed\",\"QuestionDetail\",\"PDFViewer",497466,90,",\"Question",497545,576]